import React, { Component } from 'react'
import { mapping } from '../math'

interface IProps {
    volumn: number
    [key: string]: any
}

const Shotter: React.FC<IProps> = ({ volumn, ...rest }: IProps) => {
    const circleRadius = mapping(volumn, 0, 100, 0, 240);
    const transform = `rotate(${mapping(volumn, 0, 100, 0, -45)}deg)`;

    return (
        <svg
            width="236px"
            height="221px"
            viewBox="0 0 236 221"
            version="1.1"
            className="speaker"
            style={{
                transform,
                cursor: "pointer"
            }}
            {...rest}
        >
            <defs>
                <path
                    d="M137.534889,0.782686392 C134.789556,-0.52747324 131.555111,-0.180202013 129.188444,1.72978974 L52.4453333,63.1494419 L15.7777778,63.1494419 C7.08422222,63.1494419 0,70.236932 0,78.9344977 L0,142.074721 C0,150.788072 7.08422222,157.859777 15.7777778,157.859777 L52.4453333,157.859777 L129.172667,219.279429 C130.608444,220.415953 132.359778,221 134.111111,221 C135.278667,221 136.446222,220.731654 137.534889,220.210747 C140.264444,218.900588 142,216.138203 142,213.107472 L142,7.90174656 C142,4.87101585 140.264444,2.10863108 137.534889,0.782686392 Z M181.574594,55.2681243 C178.433134,52.210053 173.394041,52.2573428 170.30042,55.3311773 C167.2068,58.4365383 167.238693,63.4177265 170.364206,66.4915609 C182.419759,78.2509482 189.053502,94.0614917 189.053502,111.006989 C189.053502,127.952487 182.419759,143.763031 170.364206,155.522418 C167.238693,158.564726 167.2068,163.561677 170.30042,166.667038 C171.863177,168.227601 173.920275,169 175.961427,169 C177.986632,169 180.011838,168.243364 181.574594,166.714328 C196.691875,152.007212 205,132.208566 205,111.006989 C205,89.8054132 196.691875,70.0067665 181.574594,55.2681243 Z M203.4723,32.2954897 C200.358619,29.2112382 195.364084,29.2428715 192.282013,32.3429397 C189.215748,35.4430079 189.247359,40.4568936 192.329429,43.5253285 C210.300272,61.3507204 220.194509,85.1389986 220.194509,110.508944 C220.194509,135.87889 210.300272,159.651351 192.329429,177.476743 C189.247359,180.560995 189.215748,185.574881 192.282013,188.674949 C193.846757,190.224983 195.869859,191 197.892962,191 C199.900259,191 201.923362,190.2408 203.4723,188.706582 C224.461992,167.907655 236,140.133575 236,110.508944 C236,80.8843132 224.461992,53.1102331 203.4723,32.2954897 Z"
                    id="path-1"
                />
            </defs>
            <g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">
                <g>
                    <mask id="mask-2" fill="white">
                        <use xlinkHref="#path-1" />
                    </mask>
                    <use fill="var(--backgroundColor)" xlinkHref="#path-1" />
                    <circle
                        fill="var(--bubbleColor)"
                        fillOpacity="0.3"
                        mask="url(http://172.25.168.7:5002/#/sendbox?#mask-2)"
                        cx="0"
                        cy="110"
                        r={circleRadius}
                    />
                </g>
            </g>
        </svg>
    )
}

export default Shotter